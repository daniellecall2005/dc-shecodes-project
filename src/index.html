<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Wireframe Project</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <style>
.card-body {
color: black;
text-align: center
}
.card-text {
  text-align: center;
  color: blue;
  font-size: 12px;
}
p {
color: black;
text-align: center;
margin: 1px;
font-size: 22px
}
.card {
  margin-top: 5px
  }
ul {
list-style-type: none;}
.btn btn-primary {
  margin:0 0 0px;
  }
</style>
  <body>
<div class="container">
  <div class="row">
    <div class="col-sm">
        <div class="card" style="width: 20rem">
        <img src="https://i.pinimg.com/originals/9e/76/44/9e76440e228671d77b9afc06887fab3c.png" class="card-img-top" alt="sun and clouds" />
        <div class="card-body">
          <p class="card-text">
           <p id="city"></p>
           <span class="temperature" id="temperature"></span>
           <span class="units">Â°C</span>
           <br>
           <ul>
           <li>Moist Meter: <span id="humidity">0</span>%</p>
           <li>Queef Blaster: <span id="wind">0</span>mph</p>
           </ul>
           <p id="date"></p>
           <p id="description"></p>
           <br>
          </p>
 <form class="search-form" id="search-form">
      <input 
      type="search" 
      placeholder="Enter a City"
      id="city-input"
      class="form-control shadow-sm"
      />
      </div>
    <div class="col-6">
      <input 
      type="submit" 
      value="Search" 
      class="form-control btn btn-primary shadow-sm w-100"
      />
</div>

</div>
    </form>
        </div>
      </div>
    </div>
          </p>
        </div>
      </div>
    </div>
    <div class="col-sm">
    </div>
  </div>
</div>
<script>
function formatDate(date) {
  let hours = date.getHours();
if (hours < 10) {
  hours = `0${hours}`;
}
let minutes = date.getMinutes();
if (minutes < 10) {
  minutes = `0${minutes}`;
}
let dayIndex = date.getDay(); 
let days = [
  "Sunday",
  "Monday",
  "Tuesday",
  "Wednesday",
  "Thursday",
  "Friday",
  "Saturday"
];
let day = days[dayIndex];
  return `${day} ${hours}:${minutes}`
}  
function displayWeatherCondition(response) {
console.log(response.data);
document.querySelector("#city").innerHTML = response.data.name;
document.querySelector("#temperature").innerHTML = Math.round(response.data.main.temp);

document.querySelector("#humidity").innerHTML = response.data.main.humidity;
document.querySelector("#wind").innerHTML = Math.round(response.data.wind.speed);
document.querySelector("#description").innerHTML = response.data.weather[0].main;
}


function search(city) {
let apiKey = "1819d5a44a288deaad951697832ebba0";
let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;
axios.get(apiUrl).then(displayWeatherCondition);
}

function handleSubmit(event) {
event.preventDefault();
let city = document.querySelector("#city-input").value;
search(city);

let cityElement = document.querySelector("#city");
let cityInput = document.querySelector("#city-input");
cityElement.innerHTML = cityInput.value;
}

let dateElement = document.querySelector("#date");
let currentTime = new Date();
dateElement.innerHTML = formatDate(currentTime);

let searchForm = document.querySelector("#search-form");
searchForm.addEventListener("submit", handleSubmit);

search("New York");

</script>
  </body>
</html>
